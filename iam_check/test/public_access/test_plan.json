{"format_version":"1.2","terraform_version":"1.12.1","planned_values":{"root_module":{"resources":[{"address":"aws_api_gateway_rest_api.example","mode":"managed","type":"aws_api_gateway_rest_api","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"body":null,"fail_on_warnings":null,"name":"example-rest-api","parameters":null,"put_rest_api_mode":null,"tags":null},"sensitive_values":{"binary_media_types":[],"endpoint_configuration":[],"tags_all":{}}},{"address":"aws_api_gateway_rest_api_policy.example","mode":"managed","type":"aws_api_gateway_rest_api_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy":"{\"Statement\":[{\"Action\":\"execute-api:Invoke\",\"Condition\":{\"IpAddress\":{\"aws:SourceIp\":\"10.23.166.155/32\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:execute-api:us-east-2:123456789012:*/*\"}],\"Version\":\"2012-10-17\"}"},"sensitive_values":{}},{"address":"aws_backup_vault.example","mode":"managed","type":"aws_backup_vault","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":false,"name":"example","tags":null,"timeouts":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_backup_vault_policy.example","mode":"managed","type":"aws_backup_vault_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"backup_vault_name":"example","policy":"{\"Statement\":[{\"Action\":[\"backup:StartBackupJob\",\"backup:PutBackupVaultNotifications\",\"backup:PutBackupVaultAccessPolicy\",\"backup:GetBackupVaultNotifications\",\"backup:GetBackupVaultAccessPolicy\",\"backup:DescribeBackupVault\",\"backup:DeleteBackupVaultAccessPolicy\",\"backup:DeleteBackupVault\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:backup:us-east-1:123456789012:backup-vault:example\"}],\"Version\":\"2012-10-17\"}"},"sensitive_values":{}},{"address":"aws_codeartifact_domain.example","mode":"managed","type":"aws_codeartifact_domain","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"domain":"example","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_codeartifact_domain_permissions_policy.example","mode":"managed","type":"aws_codeartifact_domain_permissions_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"domain":"example","policy_document":"{\"Statement\":[{\"Action\":\"codeartifact:CreateRepository\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"arn:aws:codeartifact:us-east-2:123456789012:domain/*\"}],\"Version\":\"2012-10-17\"}"},"sensitive_values":{}},{"address":"aws_dynamodb_resource_policy.example","mode":"managed","type":"aws_dynamodb_resource_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirm_remove_self_resource_access":false,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Action\": [\n        \"dynamodb:GetItem\",\n        \"dynamodb:PutItem\"\n      ],\n      \"Resource\": \"arn:aws:dynamodb:us-east-1:1234567890:table/my-table\"\n    }\n  ]\n}\n","resource_arn":"arn:aws:dynamodb:us-east-1:1234567890:table/my-table"},"sensitive_values":{}},{"address":"aws_dynamodb_table.example","mode":"managed","type":"aws_dynamodb_table","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"attribute":[{"name":"id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":null,"global_secondary_index":[],"hash_key":"id","import_table":[],"local_secondary_index":[],"name":"my-table","on_demand_throughput":[],"range_key":null,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"stream_enabled":null,"table_class":null,"tags":null,"timeouts":null},"sensitive_values":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[],"replica":[],"server_side_encryption":[],"tags_all":{},"ttl":[]}},{"address":"aws_iam_role.default","mode":"managed","type":"aws_iam_role","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"iam_for_lambda_with_sns","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"aws_iam_role.test_role","mode":"managed","type":"aws_iam_role","name":"test_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"test_role","path":"/","permissions_boundary":null,"tags":{"tag-key":"tag-value"},"tags_all":{"tag-key":"tag-value"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"aws_kinesis_resource_policy.example_consumer_policy","mode":"managed","type":"aws_kinesis_resource_policy","name":"example_consumer_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"writePolicy\",\n  \"Statement\": [{\n    \"Sid\": \"eforeadstatement\",\n    \"Effect\": \"Allow\",\n    \"Principal\": {\n      \"AWS\": \"*\"\n    },\n    \"Action\": [\n      \"kinesis:DescribeStreamConsumer\",\n      \"kinesis:SubscribeToShard\"\n    ],\n    \"Resource\": \"arn:aws:kinesis:us-west-2:123456789012:stream/example/consumer/example:1616044553\"\n  }]\n}\n","resource_arn":"arn:aws:kinesis:us-west-2:123456789012:stream/example/consumer/example:1616044553"},"sensitive_values":{}},{"address":"aws_kinesis_resource_policy.example_strem_policy","mode":"managed","type":"aws_kinesis_resource_policy","name":"example_strem_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"writePolicy\",\n  \"Statement\": [{\n    \"Sid\": \"writestatement\",\n    \"Effect\": \"Allow\",\n    \"Principal\": {\n      \"AWS\": \"*\"\n    },\n    \"Action\": [\n      \"kinesis:DescribeStreamSummary\",\n      \"kinesis:ListShards\",\n      \"kinesis:PutRecord\",\n      \"kinesis:PutRecords\"\n    ],\n    \"Resource\": \"arn:aws:kinesis::111122223333:stream/example-stream\"\n  }]\n}\n","resource_arn":"arn:aws:kinesis::111122223333:stream/example-stream"},"sensitive_values":{}},{"address":"aws_kinesis_stream.example","mode":"managed","type":"aws_kinesis_stream","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"encryption_type":"NONE","enforce_consumer_deletion":false,"kms_key_id":null,"name":"example-stream","retention_period":24,"shard_count":1,"shard_level_metrics":null,"tags":null,"timeouts":null},"sensitive_values":{"stream_mode_details":[],"tags_all":{}}},{"address":"aws_kinesis_stream_consumer.example","mode":"managed","type":"aws_kinesis_stream_consumer","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"example-consumer","stream_arn":"arn:aws:kinesis::111122223333:stream/example-stream"},"sensitive_values":{}},{"address":"aws_lambda_function.func","mode":"managed","type":"aws_lambda_function","name":"func","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"lambdatest.zip","function_name":"lambda_called_from_sns","handler":"exports.handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::123456789012:role/default","runtime":"python3.12","s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false,"snap_start":[],"tags":null,"timeout":3,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"aws_lambda_permission.with_sns","mode":"managed","type":"aws_lambda_permission","name":"with_sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"lambda_called_from_sns","function_url_auth_type":null,"principal":"*","principal_org_id":null,"qualifier":null,"source_account":null,"source_arn":null,"statement_id":"AllowExecutionFromSNS"},"sensitive_values":{}},{"address":"aws_opensearch_domain.example","mode":"managed","type":"aws_opensearch_domain","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cognito_options":[],"domain_name":"tf-test","engine_version":"OpenSearch_1.1","log_publishing_options":[],"snapshot_options":[],"tags":null,"timeouts":null,"vpc_options":[]},"sensitive_values":{"advanced_options":{},"advanced_security_options":[],"auto_tune_options":[],"cluster_config":[],"cognito_options":[],"domain_endpoint_options":[],"ebs_options":[],"encrypt_at_rest":[],"log_publishing_options":[],"node_to_node_encryption":[],"off_peak_window_options":[],"snapshot_options":[],"software_update_options":[],"tags_all":{},"vpc_options":[]}},{"address":"aws_opensearch_domain_policy.main","mode":"managed","type":"aws_opensearch_domain_policy","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_policies":"{\"Statement\":[{\"Action\":\"es:*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}","domain_name":"tf-test","timeouts":null},"sensitive_values":{}},{"address":"aws_s3_bucket.example","mode":"managed","type":"aws_s3_bucket","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"my-tf-test-bucket","force_destroy":false,"tags":null,"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags_all":{},"versioning":[],"website":[]}},{"address":"aws_s3_bucket.private_bucket","mode":"managed","type":"aws_s3_bucket","name":"private_bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"my-private-test-bucket","force_destroy":false,"tags":null,"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags_all":{},"versioning":[],"website":[]}},{"address":"aws_s3_bucket_policy.allow_public_access","mode":"managed","type":"aws_s3_bucket_policy","name":"allow_public_access","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"my-tf-test-bucket","policy":"{\"Statement\":[{\"Action\":[\"s3:ListBucket\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:s3:::my-tf-test-bucket\"}],\"Version\":\"2012-10-17\"}"},"sensitive_values":{}},{"address":"aws_s3_bucket_policy.no_public_access_bucket","mode":"managed","type":"aws_s3_bucket_policy","name":"no_public_access_bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"my-private-test-bucket","policy":"{\"Statement\":[{\"Action\":[\"s3:ListBucket\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"123456789012\"},\"Resource\":\"arn:aws:s3:::my-private-test-bucket\"}],\"Version\":\"2012-10-17\"}"},"sensitive_values":{}},{"address":"aws_s3tables_namespace.example_namespace","mode":"managed","type":"aws_s3tables_namespace","name":"example_namespace","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"namespace":"example_namespace","table_bucket_arn":"arn:aws:s3tables:us-east-2:123456789012:bucket/example-bucket"},"sensitive_values":{}},{"address":"aws_s3tables_table.example","mode":"managed","type":"aws_s3tables_table","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"format":"ICEBERG","name":"example_table","namespace":"example_namespace","table_bucket_arn":"arn:aws:s3tables:us-east-2:123456789012:bucket/example-bucket"},"sensitive_values":{"encryption_configuration":{},"maintenance_configuration":{}}},{"address":"aws_s3tables_table_bucket.example","mode":"managed","type":"aws_s3tables_table_bucket","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"encryption_configuration":null,"name":"example-bucket"},"sensitive_values":{"maintenance_configuration":{}}},{"address":"aws_s3tables_table_bucket_policy.example","mode":"managed","type":"aws_s3tables_table_bucket_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"resource_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      }\n    }\n  ]\n}","table_bucket_arn":"arn:aws:s3tables:us-east-2:123456789012:bucket/example-bucket"},"sensitive_values":{}},{"address":"aws_s3tables_table_policy.example","mode":"managed","type":"aws_s3tables_table_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"example_table","namespace":"example_namespace","resource_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3tables:UpdateTableMetadataLocation\",\n        \"s3tables:PutTableData\",\n        \"s3tables:GetTableMetadataLocation\",\n        \"s3tables:DeleteTable\"\n      ],\n      \"Resource\": \"arn:aws:s3tables:us-east-1:123456789012:bucket/example-bucket/table/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      }\n    }\n  ]\n}","table_bucket_arn":"arn:aws:s3tables:us-east-2:123456789012:bucket/example-bucket"},"sensitive_values":{}},{"address":"aws_sns_topic.default","mode":"managed","type":"aws_sns_topic","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"call-lambda-maybe","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_sns_topic.test","mode":"managed","type":"aws_sns_topic","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"my-topic-with-policy","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_sns_topic_policy.default","mode":"managed","type":"aws_sns_topic_policy","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:us-east-2:123456789012:my-topic-with-policy","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:Subscribe\",\"SNS:SetTopicAttributes\",\"SNS:RemovePermission\",\"SNS:Receive\",\"SNS:Publish\",\"SNS:ListSubscriptionsByTopic\",\"SNS:GetTopicAttributes\",\"SNS:DeleteTopic\",\"SNS:AddPermission\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:us-east-2:123456789012:my-topic-with-policy\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2012-10-17\"}"},"sensitive_values":{}},{"address":"aws_sns_topic_subscription.lambda","mode":"managed","type":"aws_sns_topic_subscription","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"arn:aws:lambda:us-east-1:123456789012:function:func","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"lambda","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null,"topic_arn":"arn:aws:sns:us-east-2:123456789012:default"},"sensitive_values":{}}]}},"resource_changes":[{"address":"aws_api_gateway_rest_api.example","mode":"managed","type":"aws_api_gateway_rest_api","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"body":null,"fail_on_warnings":null,"name":"example-rest-api","parameters":null,"put_rest_api_mode":null,"tags":null},"after_unknown":{"api_key_source":true,"arn":true,"binary_media_types":true,"created_date":true,"description":true,"disable_execute_api_endpoint":true,"endpoint_configuration":true,"execution_arn":true,"id":true,"minimum_compression_size":true,"policy":true,"root_resource_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"binary_media_types":[],"endpoint_configuration":[],"tags_all":{}}}},{"address":"aws_api_gateway_rest_api_policy.example","mode":"managed","type":"aws_api_gateway_rest_api_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy":"{\"Statement\":[{\"Action\":\"execute-api:Invoke\",\"Condition\":{\"IpAddress\":{\"aws:SourceIp\":\"10.23.166.155/32\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:execute-api:us-east-2:123456789012:*/*\"}],\"Version\":\"2012-10-17\"}"},"after_unknown":{"id":true,"rest_api_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_backup_vault.example","mode":"managed","type":"aws_backup_vault","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":false,"name":"example","tags":null,"timeouts":null},"after_unknown":{"arn":true,"id":true,"kms_key_arn":true,"recovery_points":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_backup_vault_policy.example","mode":"managed","type":"aws_backup_vault_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"backup_vault_name":"example","policy":"{\"Statement\":[{\"Action\":[\"backup:StartBackupJob\",\"backup:PutBackupVaultNotifications\",\"backup:PutBackupVaultAccessPolicy\",\"backup:GetBackupVaultNotifications\",\"backup:GetBackupVaultAccessPolicy\",\"backup:DescribeBackupVault\",\"backup:DeleteBackupVaultAccessPolicy\",\"backup:DeleteBackupVault\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:backup:us-east-1:123456789012:backup-vault:example\"}],\"Version\":\"2012-10-17\"}"},"after_unknown":{"backup_vault_arn":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_codeartifact_domain.example","mode":"managed","type":"aws_codeartifact_domain","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"domain":"example","tags":null},"after_unknown":{"arn":true,"asset_size_bytes":true,"created_time":true,"encryption_key":true,"id":true,"owner":true,"repository_count":true,"s3_bucket_arn":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_codeartifact_domain_permissions_policy.example","mode":"managed","type":"aws_codeartifact_domain_permissions_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"domain":"example","policy_document":"{\"Statement\":[{\"Action\":\"codeartifact:CreateRepository\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"arn:aws:codeartifact:us-east-2:123456789012:domain/*\"}],\"Version\":\"2012-10-17\"}"},"after_unknown":{"domain_owner":true,"id":true,"policy_revision":true,"resource_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_dynamodb_resource_policy.example","mode":"managed","type":"aws_dynamodb_resource_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirm_remove_self_resource_access":false,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Action\": [\n        \"dynamodb:GetItem\",\n        \"dynamodb:PutItem\"\n      ],\n      \"Resource\": \"arn:aws:dynamodb:us-east-1:1234567890:table/my-table\"\n    }\n  ]\n}\n","resource_arn":"arn:aws:dynamodb:us-east-1:1234567890:table/my-table"},"after_unknown":{"id":true,"revision_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_dynamodb_table.example","mode":"managed","type":"aws_dynamodb_table","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"attribute":[{"name":"id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":null,"global_secondary_index":[],"hash_key":"id","import_table":[],"local_secondary_index":[],"name":"my-table","on_demand_throughput":[],"range_key":null,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"stream_enabled":null,"table_class":null,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"attribute":[{}],"global_secondary_index":[],"id":true,"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":true,"read_capacity":true,"replica":[],"server_side_encryption":true,"stream_arn":true,"stream_label":true,"stream_view_type":true,"tags_all":true,"ttl":true,"write_capacity":true},"before_sensitive":false,"after_sensitive":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[],"replica":[],"server_side_encryption":[],"tags_all":{},"ttl":[]}}},{"address":"aws_iam_role.default","mode":"managed","type":"aws_iam_role","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"iam_for_lambda_with_sns","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"aws_iam_role.test_role","mode":"managed","type":"aws_iam_role","name":"test_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"test_role","path":"/","permissions_boundary":null,"tags":{"tag-key":"tag-value"},"tags_all":{"tag-key":"tag-value"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"aws_kinesis_resource_policy.example_consumer_policy","mode":"managed","type":"aws_kinesis_resource_policy","name":"example_consumer_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"writePolicy\",\n  \"Statement\": [{\n    \"Sid\": \"eforeadstatement\",\n    \"Effect\": \"Allow\",\n    \"Principal\": {\n      \"AWS\": \"*\"\n    },\n    \"Action\": [\n      \"kinesis:DescribeStreamConsumer\",\n      \"kinesis:SubscribeToShard\"\n    ],\n    \"Resource\": \"arn:aws:kinesis:us-west-2:123456789012:stream/example/consumer/example:1616044553\"\n  }]\n}\n","resource_arn":"arn:aws:kinesis:us-west-2:123456789012:stream/example/consumer/example:1616044553"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_kinesis_resource_policy.example_strem_policy","mode":"managed","type":"aws_kinesis_resource_policy","name":"example_strem_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"writePolicy\",\n  \"Statement\": [{\n    \"Sid\": \"writestatement\",\n    \"Effect\": \"Allow\",\n    \"Principal\": {\n      \"AWS\": \"*\"\n    },\n    \"Action\": [\n      \"kinesis:DescribeStreamSummary\",\n      \"kinesis:ListShards\",\n      \"kinesis:PutRecord\",\n      \"kinesis:PutRecords\"\n    ],\n    \"Resource\": \"arn:aws:kinesis::111122223333:stream/example-stream\"\n  }]\n}\n","resource_arn":"arn:aws:kinesis::111122223333:stream/example-stream"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_kinesis_stream.example","mode":"managed","type":"aws_kinesis_stream","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"encryption_type":"NONE","enforce_consumer_deletion":false,"kms_key_id":null,"name":"example-stream","retention_period":24,"shard_count":1,"shard_level_metrics":null,"tags":null,"timeouts":null},"after_unknown":{"arn":true,"id":true,"stream_mode_details":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"stream_mode_details":[],"tags_all":{}}}},{"address":"aws_kinesis_stream_consumer.example","mode":"managed","type":"aws_kinesis_stream_consumer","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"example-consumer","stream_arn":"arn:aws:kinesis::111122223333:stream/example-stream"},"after_unknown":{"arn":true,"creation_timestamp":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_lambda_function.func","mode":"managed","type":"aws_lambda_function","name":"func","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"lambdatest.zip","function_name":"lambda_called_from_sns","handler":"exports.handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::123456789012:role/default","runtime":"python3.12","s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false,"snap_start":[],"tags":null,"timeout":3,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"code_sha256":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"logging_config":true,"qualified_arn":true,"qualified_invoke_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"aws_lambda_permission.with_sns","mode":"managed","type":"aws_lambda_permission","name":"with_sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"lambda_called_from_sns","function_url_auth_type":null,"principal":"*","principal_org_id":null,"qualifier":null,"source_account":null,"source_arn":null,"statement_id":"AllowExecutionFromSNS"},"after_unknown":{"id":true,"statement_id_prefix":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_opensearch_domain.example","mode":"managed","type":"aws_opensearch_domain","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cognito_options":[],"domain_name":"tf-test","engine_version":"OpenSearch_1.1","log_publishing_options":[],"snapshot_options":[],"tags":null,"timeouts":null,"vpc_options":[]},"after_unknown":{"access_policies":true,"advanced_options":true,"advanced_security_options":true,"arn":true,"auto_tune_options":true,"cluster_config":true,"cognito_options":[],"dashboard_endpoint":true,"dashboard_endpoint_v2":true,"domain_endpoint_options":true,"domain_endpoint_v2_hosted_zone_id":true,"domain_id":true,"ebs_options":true,"encrypt_at_rest":true,"endpoint":true,"endpoint_v2":true,"id":true,"ip_address_type":true,"kibana_endpoint":true,"log_publishing_options":[],"node_to_node_encryption":true,"off_peak_window_options":true,"snapshot_options":[],"software_update_options":true,"tags_all":true,"vpc_options":[]},"before_sensitive":false,"after_sensitive":{"advanced_options":{},"advanced_security_options":[],"auto_tune_options":[],"cluster_config":[],"cognito_options":[],"domain_endpoint_options":[],"ebs_options":[],"encrypt_at_rest":[],"log_publishing_options":[],"node_to_node_encryption":[],"off_peak_window_options":[],"snapshot_options":[],"software_update_options":[],"tags_all":{},"vpc_options":[]}}},{"address":"aws_opensearch_domain_policy.main","mode":"managed","type":"aws_opensearch_domain_policy","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_policies":"{\"Statement\":[{\"Action\":\"es:*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}","domain_name":"tf-test","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_s3_bucket.example","mode":"managed","type":"aws_s3_bucket","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"my-tf-test-bucket","force_destroy":false,"tags":null,"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags_all":true,"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags_all":{},"versioning":[],"website":[]}}},{"address":"aws_s3_bucket.private_bucket","mode":"managed","type":"aws_s3_bucket","name":"private_bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"my-private-test-bucket","force_destroy":false,"tags":null,"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags_all":true,"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags_all":{},"versioning":[],"website":[]}}},{"address":"aws_s3_bucket_policy.allow_public_access","mode":"managed","type":"aws_s3_bucket_policy","name":"allow_public_access","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"my-tf-test-bucket","policy":"{\"Statement\":[{\"Action\":[\"s3:ListBucket\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:s3:::my-tf-test-bucket\"}],\"Version\":\"2012-10-17\"}"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_s3_bucket_policy.no_public_access_bucket","mode":"managed","type":"aws_s3_bucket_policy","name":"no_public_access_bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"my-private-test-bucket","policy":"{\"Statement\":[{\"Action\":[\"s3:ListBucket\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"123456789012\"},\"Resource\":\"arn:aws:s3:::my-private-test-bucket\"}],\"Version\":\"2012-10-17\"}"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_s3tables_namespace.example_namespace","mode":"managed","type":"aws_s3tables_namespace","name":"example_namespace","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"namespace":"example_namespace","table_bucket_arn":"arn:aws:s3tables:us-east-2:123456789012:bucket/example-bucket"},"after_unknown":{"created_at":true,"created_by":true,"owner_account_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_s3tables_table.example","mode":"managed","type":"aws_s3tables_table","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"format":"ICEBERG","name":"example_table","namespace":"example_namespace","table_bucket_arn":"arn:aws:s3tables:us-east-2:123456789012:bucket/example-bucket"},"after_unknown":{"arn":true,"created_at":true,"created_by":true,"encryption_configuration":true,"maintenance_configuration":true,"metadata_location":true,"modified_at":true,"modified_by":true,"owner_account_id":true,"type":true,"version_token":true,"warehouse_location":true},"before_sensitive":false,"after_sensitive":{"encryption_configuration":{},"maintenance_configuration":{}}}},{"address":"aws_s3tables_table_bucket.example","mode":"managed","type":"aws_s3tables_table_bucket","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"encryption_configuration":null,"name":"example-bucket"},"after_unknown":{"arn":true,"created_at":true,"maintenance_configuration":true,"owner_account_id":true},"before_sensitive":false,"after_sensitive":{"maintenance_configuration":{}}}},{"address":"aws_s3tables_table_bucket_policy.example","mode":"managed","type":"aws_s3tables_table_bucket_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"resource_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      }\n    }\n  ]\n}","table_bucket_arn":"arn:aws:s3tables:us-east-2:123456789012:bucket/example-bucket"},"after_unknown":{},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_s3tables_table_policy.example","mode":"managed","type":"aws_s3tables_table_policy","name":"example","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"example_table","namespace":"example_namespace","resource_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3tables:UpdateTableMetadataLocation\",\n        \"s3tables:PutTableData\",\n        \"s3tables:GetTableMetadataLocation\",\n        \"s3tables:DeleteTable\"\n      ],\n      \"Resource\": \"arn:aws:s3tables:us-east-1:123456789012:bucket/example-bucket/table/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      }\n    }\n  ]\n}","table_bucket_arn":"arn:aws:s3tables:us-east-2:123456789012:bucket/example-bucket"},"after_unknown":{},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_sns_topic.default","mode":"managed","type":"aws_sns_topic","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"call-lambda-maybe","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null},"after_unknown":{"arn":true,"beginning_archive_time":true,"fifo_throughput_scope":true,"id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags_all":true,"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_sns_topic.test","mode":"managed","type":"aws_sns_topic","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"my-topic-with-policy","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null},"after_unknown":{"arn":true,"beginning_archive_time":true,"fifo_throughput_scope":true,"id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags_all":true,"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_sns_topic_policy.default","mode":"managed","type":"aws_sns_topic_policy","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"arn":"arn:aws:sns:us-east-2:123456789012:my-topic-with-policy","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:Subscribe\",\"SNS:SetTopicAttributes\",\"SNS:RemovePermission\",\"SNS:Receive\",\"SNS:Publish\",\"SNS:ListSubscriptionsByTopic\",\"SNS:GetTopicAttributes\",\"SNS:DeleteTopic\",\"SNS:AddPermission\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:us-east-2:123456789012:my-topic-with-policy\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2012-10-17\"}"},"after_unknown":{"id":true,"owner":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_sns_topic_subscription.lambda","mode":"managed","type":"aws_sns_topic_subscription","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"arn:aws:lambda:us-east-1:123456789012:function:func","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"lambda","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null,"topic_arn":"arn:aws:sns:us-east-2:123456789012:default"},"after_unknown":{"arn":true,"confirmation_was_authenticated":true,"filter_policy_scope":true,"id":true,"owner_id":true,"pending_confirmation":true},"before_sensitive":false,"after_sensitive":{}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.12.1","values":{"root_module":{"resources":[{"address":"data.aws_iam_policy_document.allow_access_from_another_account","mode":"data","type":"aws_iam_policy_document","name":"allow_access_from_another_account","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3892029186","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:ListBucket\",\n        \"s3:GetObject\"\n      ],\n      \"Resource\": \"arn:aws:s3:::my-tf-test-bucket\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"s3:ListBucket\",\"s3:GetObject\"],\"Resource\":\"arn:aws:s3:::my-tf-test-bucket\",\"Principal\":{\"AWS\":\"*\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:GetObject","s3:ListBucket"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":["arn:aws:s3:::my-tf-test-bucket"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}},{"address":"data.aws_iam_policy_document.aws_backup_vault_example","mode":"data","type":"aws_iam_policy_document","name":"aws_backup_vault_example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1100862406","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"backup:StartBackupJob\",\n        \"backup:PutBackupVaultNotifications\",\n        \"backup:PutBackupVaultAccessPolicy\",\n        \"backup:GetBackupVaultNotifications\",\n        \"backup:GetBackupVaultAccessPolicy\",\n        \"backup:DescribeBackupVault\",\n        \"backup:DeleteBackupVaultAccessPolicy\",\n        \"backup:DeleteBackupVault\"\n      ],\n      \"Resource\": \"arn:aws:backup:us-east-1:123456789012:backup-vault:example\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"backup:StartBackupJob\",\"backup:PutBackupVaultNotifications\",\"backup:PutBackupVaultAccessPolicy\",\"backup:GetBackupVaultNotifications\",\"backup:GetBackupVaultAccessPolicy\",\"backup:DescribeBackupVault\",\"backup:DeleteBackupVaultAccessPolicy\",\"backup:DeleteBackupVault\"],\"Resource\":\"arn:aws:backup:us-east-1:123456789012:backup-vault:example\",\"Principal\":{\"AWS\":\"*\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["backup:DeleteBackupVault","backup:DeleteBackupVaultAccessPolicy","backup:DescribeBackupVault","backup:GetBackupVaultAccessPolicy","backup:GetBackupVaultNotifications","backup:PutBackupVaultAccessPolicy","backup:PutBackupVaultNotifications","backup:StartBackupJob"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":["arn:aws:backup:us-east-1:123456789012:backup-vault:example"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}},{"address":"data.aws_iam_policy_document.aws_codeartifact_domain_example","mode":"data","type":"aws_iam_policy_document","name":"aws_codeartifact_domain_example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"961065067","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"codeartifact:CreateRepository\",\n      \"Resource\": \"arn:aws:codeartifact:us-east-2:123456789012:domain/*\",\n      \"Principal\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"codeartifact:CreateRepository\",\"Resource\":\"arn:aws:codeartifact:us-east-2:123456789012:domain/*\",\"Principal\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["codeartifact:CreateRepository"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["*"],"type":"*"}],"resources":["arn:aws:codeartifact:us-east-2:123456789012:domain/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}},{"address":"data.aws_iam_policy_document.aws_s3tables_table_bucket_policy_example","mode":"data","type":"aws_iam_policy_document","name":"aws_s3tables_table_bucket_policy_example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1377439057","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"s3:*\",\"Resource\":\"*\",\"Principal\":{\"AWS\":\"*\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":["*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}},{"address":"data.aws_iam_policy_document.aws_s3tables_table_policy_example","mode":"data","type":"aws_iam_policy_document","name":"aws_s3tables_table_policy_example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"675805655","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3tables:UpdateTableMetadataLocation\",\n        \"s3tables:PutTableData\",\n        \"s3tables:GetTableMetadataLocation\",\n        \"s3tables:DeleteTable\"\n      ],\n      \"Resource\": \"arn:aws:s3tables:us-east-1:123456789012:bucket/example-bucket/table/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"s3tables:UpdateTableMetadataLocation\",\"s3tables:PutTableData\",\"s3tables:GetTableMetadataLocation\",\"s3tables:DeleteTable\"],\"Resource\":\"arn:aws:s3tables:us-east-1:123456789012:bucket/example-bucket/table/*\",\"Principal\":{\"AWS\":\"*\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3tables:DeleteTable","s3tables:GetTableMetadataLocation","s3tables:PutTableData","s3tables:UpdateTableMetadataLocation"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":["arn:aws:s3tables:us-east-1:123456789012:bucket/example-bucket/table/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}},{"address":"data.aws_iam_policy_document.no_public_access_bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"no_public_access_bucket_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3444734078","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:ListBucket\",\n        \"s3:GetObject\"\n      ],\n      \"Resource\": \"arn:aws:s3:::my-private-test-bucket\",\n      \"Principal\": {\n        \"AWS\": \"123456789012\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"s3:ListBucket\",\"s3:GetObject\"],\"Resource\":\"arn:aws:s3:::my-private-test-bucket\",\"Principal\":{\"AWS\":\"123456789012\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:GetObject","s3:ListBucket"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["123456789012"],"type":"AWS"}],"resources":["arn:aws:s3:::my-private-test-bucket"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}},{"address":"data.aws_iam_policy_document.opensearch","mode":"data","type":"aws_iam_policy_document","name":"opensearch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"4094222545","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"es:*\",\n      \"Resource\": \"*\",\n      \"Principal\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"es:*\",\"Resource\":\"*\",\"Principal\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["es:*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["*"],"type":"*"}],"resources":["*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}},{"address":"data.aws_iam_policy_document.rest_api_example","mode":"data","type":"aws_iam_policy_document","name":"rest_api_example","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3608067016","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"execute-api:Invoke\",\n      \"Resource\": \"arn:aws:execute-api:us-east-2:123456789012:*/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"IpAddress\": {\n          \"aws:SourceIp\": \"10.23.166.155/32\"\n        }\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"execute-api:Invoke\",\"Resource\":\"arn:aws:execute-api:us-east-2:123456789012:*/*\",\"Principal\":{\"AWS\":\"*\"},\"Condition\":{\"IpAddress\":{\"aws:SourceIp\":\"10.23.166.155/32\"}}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["execute-api:Invoke"],"condition":[{"test":"IpAddress","values":["10.23.166.155/32"],"variable":"aws:SourceIp"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":["arn:aws:execute-api:us-east-2:123456789012:*/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}},{"address":"data.aws_iam_policy_document.sns_topic_policy","mode":"data","type":"aws_iam_policy_document","name":"sns_topic_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2851689130","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"__default_policy_ID\",\n  \"Statement\": [\n    {\n      \"Sid\": \"__default_statement_ID\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"SNS:Subscribe\",\n        \"SNS:SetTopicAttributes\",\n        \"SNS:RemovePermission\",\n        \"SNS:Receive\",\n        \"SNS:Publish\",\n        \"SNS:ListSubscriptionsByTopic\",\n        \"SNS:GetTopicAttributes\",\n        \"SNS:DeleteTopic\",\n        \"SNS:AddPermission\"\n      ],\n      \"Resource\": \"arn:aws:sns:us-east-2:123456789012:my-topic-with-policy\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Action\":[\"SNS:Subscribe\",\"SNS:SetTopicAttributes\",\"SNS:RemovePermission\",\"SNS:Receive\",\"SNS:Publish\",\"SNS:ListSubscriptionsByTopic\",\"SNS:GetTopicAttributes\",\"SNS:DeleteTopic\",\"SNS:AddPermission\"],\"Resource\":\"arn:aws:sns:us-east-2:123456789012:my-topic-with-policy\",\"Principal\":{\"AWS\":\"*\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":"__default_policy_ID","source_json":null,"source_policy_documents":null,"statement":[{"actions":["SNS:AddPermission","SNS:DeleteTopic","SNS:GetTopicAttributes","SNS:ListSubscriptionsByTopic","SNS:Publish","SNS:Receive","SNS:RemovePermission","SNS:SetTopicAttributes","SNS:Subscribe"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":["arn:aws:sns:us-east-2:123456789012:my-topic-with-policy"],"sid":"__default_statement_ID"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.98.0","expressions":{"region":{"constant_value":"us-east-2"}}}},"root_module":{"resources":[{"address":"aws_api_gateway_rest_api.example","mode":"managed","type":"aws_api_gateway_rest_api","name":"example","provider_config_key":"aws","expressions":{"name":{"constant_value":"example-rest-api"}},"schema_version":0},{"address":"aws_api_gateway_rest_api_policy.example","mode":"managed","type":"aws_api_gateway_rest_api_policy","name":"example","provider_config_key":"aws","expressions":{"policy":{"references":["data.aws_iam_policy_document.rest_api_example.json","data.aws_iam_policy_document.rest_api_example"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.example.id","aws_api_gateway_rest_api.example"]}},"schema_version":0},{"address":"aws_backup_vault.example","mode":"managed","type":"aws_backup_vault","name":"example","provider_config_key":"aws","expressions":{"name":{"constant_value":"example"}},"schema_version":0},{"address":"aws_backup_vault_policy.example","mode":"managed","type":"aws_backup_vault_policy","name":"example","provider_config_key":"aws","expressions":{"backup_vault_name":{"references":["aws_backup_vault.example.name","aws_backup_vault.example"]},"policy":{"references":["data.aws_iam_policy_document.aws_backup_vault_example.json","data.aws_iam_policy_document.aws_backup_vault_example"]}},"schema_version":0},{"address":"aws_codeartifact_domain.example","mode":"managed","type":"aws_codeartifact_domain","name":"example","provider_config_key":"aws","expressions":{"domain":{"constant_value":"example"}},"schema_version":0},{"address":"aws_codeartifact_domain_permissions_policy.example","mode":"managed","type":"aws_codeartifact_domain_permissions_policy","name":"example","provider_config_key":"aws","expressions":{"domain":{"references":["aws_codeartifact_domain.example.domain","aws_codeartifact_domain.example"]},"policy_document":{"references":["data.aws_iam_policy_document.aws_codeartifact_domain_example.json","data.aws_iam_policy_document.aws_codeartifact_domain_example"]}},"schema_version":0},{"address":"aws_dynamodb_resource_policy.example","mode":"managed","type":"aws_dynamodb_resource_policy","name":"example","provider_config_key":"aws","expressions":{"policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Action\": [\n        \"dynamodb:GetItem\",\n        \"dynamodb:PutItem\"\n      ],\n      \"Resource\": \"arn:aws:dynamodb:us-east-1:1234567890:table/my-table\"\n    }\n  ]\n}\n"},"resource_arn":{"constant_value":"arn:aws:dynamodb:us-east-1:1234567890:table/my-table"}},"schema_version":0},{"address":"aws_dynamodb_table.example","mode":"managed","type":"aws_dynamodb_table","name":"example","provider_config_key":"aws","expressions":{"attribute":[{"name":{"constant_value":"id"},"type":{"constant_value":"S"}}],"billing_mode":{"constant_value":"PAY_PER_REQUEST"},"hash_key":{"constant_value":"id"},"name":{"constant_value":"my-table"}},"schema_version":1},{"address":"aws_iam_role.default","mode":"managed","type":"aws_iam_role","name":"default","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"constant_value":"iam_for_lambda_with_sns"}},"schema_version":0},{"address":"aws_iam_role.test_role","mode":"managed","type":"aws_iam_role","name":"test_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"constant_value":"test_role"},"tags":{"constant_value":{"tag-key":"tag-value"}}},"schema_version":0},{"address":"aws_kinesis_resource_policy.example_consumer_policy","mode":"managed","type":"aws_kinesis_resource_policy","name":"example_consumer_policy","provider_config_key":"aws","expressions":{"policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"writePolicy\",\n  \"Statement\": [{\n    \"Sid\": \"eforeadstatement\",\n    \"Effect\": \"Allow\",\n    \"Principal\": {\n      \"AWS\": \"*\"\n    },\n    \"Action\": [\n      \"kinesis:DescribeStreamConsumer\",\n      \"kinesis:SubscribeToShard\"\n    ],\n    \"Resource\": \"arn:aws:kinesis:us-west-2:123456789012:stream/example/consumer/example:1616044553\"\n  }]\n}\n"},"resource_arn":{"constant_value":"arn:aws:kinesis:us-west-2:123456789012:stream/example/consumer/example:1616044553"}},"schema_version":0},{"address":"aws_kinesis_resource_policy.example_strem_policy","mode":"managed","type":"aws_kinesis_resource_policy","name":"example_strem_policy","provider_config_key":"aws","expressions":{"policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"writePolicy\",\n  \"Statement\": [{\n    \"Sid\": \"writestatement\",\n    \"Effect\": \"Allow\",\n    \"Principal\": {\n      \"AWS\": \"*\"\n    },\n    \"Action\": [\n      \"kinesis:DescribeStreamSummary\",\n      \"kinesis:ListShards\",\n      \"kinesis:PutRecord\",\n      \"kinesis:PutRecords\"\n    ],\n    \"Resource\": \"arn:aws:kinesis::111122223333:stream/example-stream\"\n  }]\n}\n"},"resource_arn":{"constant_value":"arn:aws:kinesis::111122223333:stream/example-stream"}},"schema_version":0},{"address":"aws_kinesis_stream.example","mode":"managed","type":"aws_kinesis_stream","name":"example","provider_config_key":"aws","expressions":{"name":{"constant_value":"example-stream"},"shard_count":{"constant_value":1}},"schema_version":1},{"address":"aws_kinesis_stream_consumer.example","mode":"managed","type":"aws_kinesis_stream_consumer","name":"example","provider_config_key":"aws","expressions":{"name":{"constant_value":"example-consumer"},"stream_arn":{"constant_value":"arn:aws:kinesis::111122223333:stream/example-stream"}},"schema_version":0},{"address":"aws_lambda_function.func","mode":"managed","type":"aws_lambda_function","name":"func","provider_config_key":"aws","expressions":{"filename":{"constant_value":"lambdatest.zip"},"function_name":{"constant_value":"lambda_called_from_sns"},"handler":{"constant_value":"exports.handler"},"role":{"constant_value":"arn:aws:iam::123456789012:role/default"},"runtime":{"constant_value":"python3.12"}},"schema_version":0},{"address":"aws_lambda_permission.with_sns","mode":"managed","type":"aws_lambda_permission","name":"with_sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"references":["aws_lambda_function.func.function_name","aws_lambda_function.func"]},"principal":{"constant_value":"*"},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_opensearch_domain.example","mode":"managed","type":"aws_opensearch_domain","name":"example","provider_config_key":"aws","expressions":{"domain_name":{"constant_value":"tf-test"},"engine_version":{"constant_value":"OpenSearch_1.1"}},"schema_version":0},{"address":"aws_opensearch_domain_policy.main","mode":"managed","type":"aws_opensearch_domain_policy","name":"main","provider_config_key":"aws","expressions":{"access_policies":{"references":["data.aws_iam_policy_document.opensearch.json","data.aws_iam_policy_document.opensearch"]},"domain_name":{"references":["aws_opensearch_domain.example.domain_name","aws_opensearch_domain.example"]}},"schema_version":0},{"address":"aws_s3_bucket.example","mode":"managed","type":"aws_s3_bucket","name":"example","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"my-tf-test-bucket"}},"schema_version":0},{"address":"aws_s3_bucket.private_bucket","mode":"managed","type":"aws_s3_bucket","name":"private_bucket","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"my-private-test-bucket"}},"schema_version":0},{"address":"aws_s3_bucket_policy.allow_public_access","mode":"managed","type":"aws_s3_bucket_policy","name":"allow_public_access","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"my-tf-test-bucket"},"policy":{"references":["data.aws_iam_policy_document.allow_access_from_another_account.json","data.aws_iam_policy_document.allow_access_from_another_account"]}},"schema_version":0},{"address":"aws_s3_bucket_policy.no_public_access_bucket","mode":"managed","type":"aws_s3_bucket_policy","name":"no_public_access_bucket","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"my-private-test-bucket"},"policy":{"references":["data.aws_iam_policy_document.no_public_access_bucket_policy.json","data.aws_iam_policy_document.no_public_access_bucket_policy"]}},"schema_version":0},{"address":"aws_s3tables_namespace.example_namespace","mode":"managed","type":"aws_s3tables_namespace","name":"example_namespace","provider_config_key":"aws","expressions":{"namespace":{"constant_value":"example_namespace"},"table_bucket_arn":{"constant_value":"arn:aws:s3tables:us-east-2:123456789012:bucket/example-bucket"}},"schema_version":0},{"address":"aws_s3tables_table.example","mode":"managed","type":"aws_s3tables_table","name":"example","provider_config_key":"aws","expressions":{"format":{"constant_value":"ICEBERG"},"name":{"constant_value":"example_table"},"namespace":{"references":["aws_s3tables_namespace.example_namespace.namespace","aws_s3tables_namespace.example_namespace"]},"table_bucket_arn":{"references":["aws_s3tables_namespace.example_namespace.table_bucket_arn","aws_s3tables_namespace.example_namespace"]}},"schema_version":0},{"address":"aws_s3tables_table_bucket.example","mode":"managed","type":"aws_s3tables_table_bucket","name":"example","provider_config_key":"aws","expressions":{"name":{"constant_value":"example-bucket"}},"schema_version":0},{"address":"aws_s3tables_table_bucket_policy.example","mode":"managed","type":"aws_s3tables_table_bucket_policy","name":"example","provider_config_key":"aws","expressions":{"resource_policy":{"references":["data.aws_iam_policy_document.aws_s3tables_table_bucket_policy_example.json","data.aws_iam_policy_document.aws_s3tables_table_bucket_policy_example"]},"table_bucket_arn":{"constant_value":"arn:aws:s3tables:us-east-2:123456789012:bucket/example-bucket"}},"schema_version":0},{"address":"aws_s3tables_table_policy.example","mode":"managed","type":"aws_s3tables_table_policy","name":"example","provider_config_key":"aws","expressions":{"name":{"references":["aws_s3tables_table.example.name","aws_s3tables_table.example"]},"namespace":{"references":["aws_s3tables_table.example.namespace","aws_s3tables_table.example"]},"resource_policy":{"references":["data.aws_iam_policy_document.aws_s3tables_table_policy_example.json","data.aws_iam_policy_document.aws_s3tables_table_policy_example"]},"table_bucket_arn":{"references":["aws_s3tables_table.example.table_bucket_arn","aws_s3tables_table.example"]}},"schema_version":0},{"address":"aws_sns_topic.default","mode":"managed","type":"aws_sns_topic","name":"default","provider_config_key":"aws","expressions":{"name":{"constant_value":"call-lambda-maybe"}},"schema_version":0},{"address":"aws_sns_topic.test","mode":"managed","type":"aws_sns_topic","name":"test","provider_config_key":"aws","expressions":{"name":{"constant_value":"my-topic-with-policy"}},"schema_version":0},{"address":"aws_sns_topic_policy.default","mode":"managed","type":"aws_sns_topic_policy","name":"default","provider_config_key":"aws","expressions":{"arn":{"constant_value":"arn:aws:sns:us-east-2:123456789012:my-topic-with-policy"},"policy":{"references":["data.aws_iam_policy_document.sns_topic_policy.json","data.aws_iam_policy_document.sns_topic_policy"]}},"schema_version":0},{"address":"aws_sns_topic_subscription.lambda","mode":"managed","type":"aws_sns_topic_subscription","name":"lambda","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"arn:aws:lambda:us-east-1:123456789012:function:func"},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"arn:aws:sns:us-east-2:123456789012:default"}},"schema_version":0},{"address":"data.aws_iam_policy_document.allow_access_from_another_account","mode":"data","type":"aws_iam_policy_document","name":"allow_access_from_another_account","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["s3:GetObject","s3:ListBucket"]},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["arn:aws:s3:::my-tf-test-bucket"]}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.aws_backup_vault_example","mode":"data","type":"aws_iam_policy_document","name":"aws_backup_vault_example","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["backup:DescribeBackupVault","backup:DeleteBackupVault","backup:PutBackupVaultAccessPolicy","backup:DeleteBackupVaultAccessPolicy","backup:GetBackupVaultAccessPolicy","backup:StartBackupJob","backup:GetBackupVaultNotifications","backup:PutBackupVaultNotifications"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["arn:aws:backup:us-east-1:123456789012:backup-vault:example"]}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.aws_codeartifact_domain_example","mode":"data","type":"aws_iam_policy_document","name":"aws_codeartifact_domain_example","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["codeartifact:CreateRepository"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"*"}}],"resources":{"constant_value":["arn:aws:codeartifact:us-east-2:123456789012:domain/*"]}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.aws_s3tables_table_bucket_policy_example","mode":"data","type":"aws_iam_policy_document","name":"aws_s3tables_table_bucket_policy_example","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["s3:*"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["*"]}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.aws_s3tables_table_policy_example","mode":"data","type":"aws_iam_policy_document","name":"aws_s3tables_table_policy_example","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["s3tables:DeleteTable","s3tables:UpdateTableMetadataLocation","s3tables:PutTableData","s3tables:GetTableMetadataLocation"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["arn:aws:s3tables:us-east-1:123456789012:bucket/example-bucket/table/*"]}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.no_public_access_bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"no_public_access_bucket_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["s3:GetObject","s3:ListBucket"]},"principals":[{"identifiers":{"constant_value":["123456789012"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["arn:aws:s3:::my-private-test-bucket"]}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.opensearch","mode":"data","type":"aws_iam_policy_document","name":"opensearch","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["es:*"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"*"}}],"resources":{"constant_value":["*"]}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.rest_api_example","mode":"data","type":"aws_iam_policy_document","name":"rest_api_example","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["execute-api:Invoke"]},"condition":[{"test":{"constant_value":"IpAddress"},"values":{"constant_value":["10.23.166.155/32"]},"variable":{"constant_value":"aws:SourceIp"}}],"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["arn:aws:execute-api:us-east-2:123456789012:*/*"]}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.sns_topic_policy","mode":"data","type":"aws_iam_policy_document","name":"sns_topic_policy","provider_config_key":"aws","expressions":{"policy_id":{"constant_value":"__default_policy_ID"},"statement":[{"actions":{"constant_value":["SNS:Subscribe","SNS:SetTopicAttributes","SNS:RemovePermission","SNS:Receive","SNS:Publish","SNS:ListSubscriptionsByTopic","SNS:GetTopicAttributes","SNS:DeleteTopic","SNS:AddPermission"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["arn:aws:sns:us-east-2:123456789012:my-topic-with-policy"]},"sid":{"constant_value":"__default_statement_ID"}}]},"schema_version":0}]}},"relevant_attributes":[{"resource":"aws_api_gateway_rest_api.example","attribute":["id"]},{"resource":"aws_codeartifact_domain.example","attribute":["domain"]},{"resource":"aws_lambda_function.func","attribute":["function_name"]},{"resource":"data.aws_iam_policy_document.opensearch","attribute":["json"]},{"resource":"aws_s3tables_table.example","attribute":["table_bucket_arn"]},{"resource":"data.aws_iam_policy_document.aws_backup_vault_example","attribute":["json"]},{"resource":"data.aws_iam_policy_document.no_public_access_bucket_policy","attribute":["json"]},{"resource":"aws_s3tables_namespace.example_namespace","attribute":["namespace"]},{"resource":"aws_s3tables_namespace.example_namespace","attribute":["table_bucket_arn"]},{"resource":"data.aws_iam_policy_document.aws_codeartifact_domain_example","attribute":["json"]},{"resource":"data.aws_iam_policy_document.aws_s3tables_table_bucket_policy_example","attribute":["json"]},{"resource":"data.aws_iam_policy_document.rest_api_example","attribute":["json"]},{"resource":"data.aws_iam_policy_document.sns_topic_policy","attribute":["json"]},{"resource":"aws_s3tables_table.example","attribute":["namespace"]},{"resource":"data.aws_iam_policy_document.allow_access_from_another_account","attribute":["json"]},{"resource":"aws_backup_vault.example","attribute":["name"]},{"resource":"data.aws_iam_policy_document.aws_s3tables_table_policy_example","attribute":["json"]},{"resource":"aws_s3tables_table.example","attribute":["name"]},{"resource":"aws_opensearch_domain.example","attribute":["domain_name"]}],"timestamp":"2025-06-02T02:33:41Z","applyable":true,"complete":true,"errored":false}
